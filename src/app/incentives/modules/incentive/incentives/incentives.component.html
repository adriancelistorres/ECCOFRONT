<div class="card-body">
  <div class="background-container" style="padding-top: 30px;">
    <div class="">
      <h2 class="card-title fw-bold m-3">Tabla de Incentivos</h2>
      <div class="card container-fluid bg-dark  bg-opacity-75 p-4 border-0">
        <div class="row" >
          <div class="col-lg-4">
            <div >
              <h4 class="text-white">
                Filtro Periodo
              </h4>
              <select class="form-select" name="select" [(ngModel)]="selectedPeriodo" (change)="filtrarIncentivos()">
                <option value="">Todo</option>
                <option *ngFor="let periodo of periodos" [value]="periodo">
                  {{ periodo }}
                </option>
              </select>
            </div>
          </div>
          <div class="col-lg-4">
            <h4 class="text-white">
              Filtro Tipo
            </h4>
            <select class="form-select" name="selectTipo" [(ngModel)]="selectedTipo" (change)="filtrarIncentivosTipo()">
              <option value="">Todo</option>
              <option *ngFor="let empresa of empresas" [value]="empresa">
                {{ empresa }}
              </option>
            </select>
          </div>
          <div class="row pt-3">
            <h4 class="text-white">
              Totales
            </h4>
            <div class="col-lg-3">
              <p style="background-color: white; border-radius: 10px; padding: 8px">
                <span style="font-weight: bold">Monto General: {{ "S/." + totalMontoGeneral }}</span>
              </p>
            </div>

            <div class="col-lg-3" *ngFor="let montoEmpresa of montoPorEmpresa">
              <p style="background-color: white; border-radius: 10px; padding: 8px">
                <span style="font-weight: bold; border-radius: 10px;" [ngStyle]="
                      montoEmpresa.empresa === selectedTipo
                        ? estiloFondoParaTipoSeleccionado
                        : null
                    ">Total {{montoEmpresa.empresa }}:S/.{{montoEmpresa.totalMontoEmpresa }}</span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <br />
      <br />
      <div class="table-responsive-xxl fs-6">
        <table class="table table-dark table-hover table-bordered border-secondary">
          <thead class="table table-active">
            <tr style="border-color: aliceblue">
              <th >
                ID
              </th>
              <th >
                Tipo Incentivo
              </th>
              <th >
                Periodo
              </th>
              <th >
                DNI Promotor
              </th>
              <th >
                Nombre Promotor
              </th>
              <th >
                PDV Incentivo
              </th>
              <th >
                Nombre Incentivo
              </th>
              <th >
                Vigencia incentivo
              </th>
              <th >
                Entrega
              </th>
              <th >
                Monto
              </th>
              <th >
                Estado Incentivo
              </th>
              <th >
                Aceptar
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let incentivo of listIncentivos">
              <td>{{ incentivo.id }}</td>
              <td>{{ incentivo.empresa }}</td>
              <td>{{ incentivo.periodoIncentivo }}</td>
              <td>{{ incentivo.dniPromotor }}</td>
              <td>{{ incentivo.nombreCompleto }}</td>
              <td>{{ incentivo.puntoventa }}</td>
              <td>{{ incentivo.nombreIncentivo }}</td>
              <td>
                Del {{ incentivo.fechaInicio | date : "dd/MM/yyyy" }} al
                {{ incentivo.fechaFin | date : "dd/MM/yyyy" }}
              </td>
              <td>{{ incentivo.tipoIncentivo }}</td>
              <td>S/. {{ incentivo.monto }}</td>
              <td>{{ incentivo.estadoIncentivo }}</td>
              <td>
                <button type="button" class="btn btn-success" (click)="onAceptar(incentivo)"
                  [disabled]="incentivo.aceptado">
                  Aceptar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>